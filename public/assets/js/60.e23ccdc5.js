(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{373:function(s,e,t){"use strict";t.r(e);var a=t(0),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"kuberentes-ç¦»çº¿ä¸æ»‘å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kuberentes-ç¦»çº¿ä¸æ»‘å®‰è£…"}},[s._v("#")]),s._v(" kuberentes ç¦»çº¿ä¸æ»‘å®‰è£…")]),s._v(" "),t("p",[s._v("ä¸ºäº†è®©kuberneteså®‰è£…ä¸é›†ç¾¤èŠ‚ç‚¹ç®¡ç†æ›´ä¸æ»‘ï¼Œè¿™æ¬¡æˆ‘ä»¬æ˜¯èŠ±äº†å¤§åŠŸå¤«ã€‚è¿™æ¬¡åšäº†å¾ˆå¤šéå¸¸å¤§çš„æ›´æ–°ï¼Œå¹¶ç»è¿‡å……åˆ†æµ‹è¯•ä¸bugä¿®å¤è®©å…¶ç¨³å®šã€‚")]),s._v(" "),t("p",[s._v("åŠ›äº‰æŠŠè¿™ä¸ªç®€å•çš„äº‹åšåˆ°æè‡´ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("å‰¥ç¦»å®šåˆ¶kubeamåŠŸèƒ½åˆ°sealosä¸­")])]),s._v(" "),t("p",[s._v("ä¹‹å‰å®šåˆ¶kubeadmä»£ç å®ç°çš„100å¹´è¯ä¹¦åŠŸèƒ½å’ŒlocalLB,å·²ç»å…¨éƒ¨å‰¥ç¦»åˆ°sealosä¸­ï¼Œç°åœ¨å·²ç»æ˜¯å®Œå®Œå…¨å…¨åŸç”Ÿçš„kubernetesäº†ã€‚")]),s._v(" "),t("p",[s._v("ä¸ºäº†å‡å°‘å¯¹ç¬¬ä¸‰æ–¹å‘½ä»¤è¡Œå·¥å…·çš„ä¾èµ–ï¼Œsealosè¯ä¹¦å®Œå…¨æ˜¯é€šè¿‡è°ƒç”¨golangçš„åº“ç”Ÿæˆï¼Œç”Ÿæˆé€»è¾‘ä¸kubeadmä¿æŒä¸€è‡´ï¼Œä¸è¿‡æŠŠclient-goä¸­å†™æ­»ä¸€å¹´çš„è¯ä¹¦æ—¶é—´å˜æˆäº†ä¸€ä¸ªå‚æ•°ã€‚")]),s._v(" "),t("p",[s._v("ipvsçš„localLBæ–­ç„¶ä¹Ÿä¸å±‘äºå»è°ƒç”¨ç±»ä¼¼ipvsadmçš„å·¥å…·ï¼Œä¹Ÿæ˜¯èµ°ç³»ç»Ÿè°ƒç”¨å®Œæˆï¼Œè¿˜é¡ºä¾¿ä¿®å¤äº†netlinkå’Œå†…æ ¸ç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜1.18ç‰ˆæœ¬çš„kube-proxyç›®å‰ä¸€ç›´å­˜åœ¨éœ€è¦å‡çº§å†…æ ¸è§£å†³ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("è‡ªç”±çš„å¢åŠ åˆ é™¤masteræˆ–nodeèŠ‚ç‚¹")])]),s._v(" "),t("p",[s._v("ç»Ÿç»Ÿä¸€æ¡å‘½ä»¤çš„äº‹ï¼Œéš¾é“æ‰¾åˆ°å…¶å®ƒçš„å¦‚æ­¤ä¸æ»‘ç®€å•çš„æ–¹å¼å¢åˆ ä½ é›†ç¾¤ä¸­çš„èŠ‚ç‚¹äº†")]),s._v(" "),t("blockquote",[t("p",[s._v("è¶…å…¨çš„kubernetesç‰ˆæœ¬æ”¯æŒ")])]),s._v(" "),t("p",[s._v("åŸºæœ¬å®˜æ–¹releaseçš„æ­£å¼ç‰ˆæˆ‘ä»¬éƒ½ä¼šåœ¨1ä¸ªå·¥ä½œæ—¥å†…å‘å¸ƒç¦»çº¿åŒ…ã€‚ æ‰€ä»¥åŸºæœ¬æ˜¯å…¨ç½‘æœ€å¿«æœ€å…¨ï¼Œè€Œä¸”ä¸ºäº†ç”¨æˆ·æœ‰æ›´å¥½çš„ä¸‹è½½ä½“éªŒï¼Œæ”¾åˆ°é˜¿é‡Œäº‘ossä¸Šäº†,ä¸‹è½½ä¸æ»‘ã€‚")]),s._v(" "),t("p",[s._v("ä¹‹æ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆå¿«å¾—ç›Šäºæˆ‘ä»¬çš„æ‰“åŒ…å’Œè‡ªåŠ¨åŒ–æµ‹è¯•æœºå™¨äººã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ä½“éªŒä¼˜åŒ–å†ä¼˜åŒ–")])]),s._v(" "),t("ul",[t("li",[s._v("ç²¾ç®€æ—¥å¿—è¾“å‡º")]),s._v(" "),t("li",[s._v("å®æ—¶æµæ—¥å¿—ï¼Œå¤§éƒ¨åˆ†è¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„å·¥å…·æ—¥å¿—éƒ½æ˜¯åŒæ­¥è¾“å‡ºï¼Œå°±æ˜¯ç­‰åˆ°æ—¥å¿—æ‰§è¡Œå®Œå†è¿”å›ç»™æ ‡å‡†è¾“å‡ºï¼Œè€Œsealosæ‰§è¡Œè¿œç¨‹å‘½ä»¤æ—¶å¼‚æ­¥è¾“å‡ºï¼Œè¿™å°±ä¸æ»‘å¤ªå¤šäº†ã€‚")]),s._v(" "),t("li",[s._v("lvscareå¼€æœºipvså†…æ ¸æ¨¡å—åŠ è½½")])]),s._v(" "),t("h2",{attrs:{id:"ğŸš€-å¿«é€Ÿå¼€å§‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-å¿«é€Ÿå¼€å§‹"}},[s._v("#")]),s._v(" ğŸš€ å¿«é€Ÿå¼€å§‹")]),s._v(" "),t("blockquote",[t("p",[s._v("ç¯å¢ƒä¿¡æ¯")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("ä¸»æœºå")]),s._v(" "),t("th",[s._v("IPåœ°å€")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("master0")]),s._v(" "),t("td",[s._v("192.168.0.2")])]),s._v(" "),t("tr",[t("td",[s._v("master1")]),s._v(" "),t("td",[s._v("192.168.0.3")])]),s._v(" "),t("tr",[t("td",[s._v("master2")]),s._v(" "),t("td",[s._v("192.168.0.4")])]),s._v(" "),t("tr",[t("td",[s._v("node0")]),s._v(" "),t("td",[s._v("192.168.0.5")])])])]),s._v(" "),t("p",[s._v("æœåŠ¡å™¨å¯†ç ï¼š123456")]),s._v(" "),t("blockquote",[t("p",[s._v("åªéœ€è¦å‡†å¤‡å¥½æœåŠ¡å™¨ï¼Œåœ¨ä»»æ„ä¸€å°æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‹è½½å¹¶å®‰è£…sealos, sealosæ˜¯ä¸ªgolangçš„äºŒè¿›åˆ¶å·¥å…·ï¼Œç›´æ¥ä¸‹è½½æ‹·è´åˆ°binç›®å½•å³å¯, releaseé¡µé¢ä¹Ÿå¯ä¸‹è½½")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c https://sealyun.oss-cn-beijing.aliyuncs.com/latest/sealos "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x sealos "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" sealos /usr/bin \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‹è½½ç¦»çº¿èµ„æºåŒ…")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c https://sealyun.oss-cn-beijing.aliyuncs.com/d551b0b9e67e0416d0f9dce870a16665-1.18.0/kube1.18.0.tar.gz \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…ä¸€ä¸ªä¸‰masterçš„kubernetesé›†ç¾¤")]),s._v("\n$ sealos init --passwd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t--master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.2  --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.3  --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.4  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t--node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.5 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t--pkg-url /root/kube1.18.0.tar.gz "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t--version v1.18.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("blockquote",[t("p",[s._v("å‚æ•°å«ä¹‰")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("å‚æ•°å")]),s._v(" "),t("th",[s._v("å«ä¹‰")]),s._v(" "),t("th",[s._v("ç¤ºä¾‹")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("passwd")]),s._v(" "),t("td",[s._v("æœåŠ¡å™¨å¯†ç ")]),s._v(" "),t("td",[s._v("123456")])]),s._v(" "),t("tr",[t("td",[s._v("master")]),s._v(" "),t("td",[s._v("k8s masterèŠ‚ç‚¹IPåœ°å€")]),s._v(" "),t("td",[s._v("192.168.0.2")])]),s._v(" "),t("tr",[t("td",[s._v("node")]),s._v(" "),t("td",[s._v("k8s nodeèŠ‚ç‚¹IPåœ°å€")]),s._v(" "),t("td",[s._v("192.168.0.3")])]),s._v(" "),t("tr",[t("td",[s._v("pkg-url")]),s._v(" "),t("td",[s._v("ç¦»çº¿èµ„æºåŒ…åœ°å€ï¼Œæ”¯æŒä¸‹è½½åˆ°æœ¬åœ°ï¼Œæˆ–è€…ä¸€ä¸ªè¿œç¨‹åœ°å€")]),s._v(" "),t("td",[s._v("/root/kube1.16.0.tar.gz")])]),s._v(" "),t("tr",[t("td",[s._v("version")]),s._v(" "),t("td",[t("a",{attrs:{href:"http://store.lameleg.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("èµ„æºåŒ…"),t("OutboundLink")],1),s._v("å¯¹åº”çš„ç‰ˆæœ¬")]),s._v(" "),t("td",[s._v("v1.16.0")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å¢åŠ master")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ğŸ³ â†’ sealos "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6 --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.7\nğŸ³ â†’ sealos "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6-192.168.0.9  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€…å¤šä¸ªè¿ç»­IP")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("å¢åŠ node")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ğŸ³ â†’ sealos "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6 --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.7\nğŸ³ â†’ sealos "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6-192.168.0.9  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€…å¤šä¸ªè¿ç»­IP")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("åˆ é™¤æŒ‡å®šmasterèŠ‚ç‚¹")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ğŸ³ â†’ sealos clean --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6 --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.7\nğŸ³ â†’ sealos clean --master "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6-192.168.0.9  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€…å¤šä¸ªè¿ç»­IP")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("åˆ é™¤æŒ‡å®šnodeèŠ‚ç‚¹")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ğŸ³ â†’ sealos clean --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6 --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.7\nğŸ³ â†’ sealos clean --node "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.6-192.168.0.9  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€…å¤šä¸ªè¿ç»­IP")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("æ¸…ç†é›†ç¾¤")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ğŸ³ â†’ sealos clean\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);